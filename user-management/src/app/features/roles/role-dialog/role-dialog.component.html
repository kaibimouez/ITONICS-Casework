<h2 mat-dialog-title>{{ isEdit ? 'Edit Role' : 'Create New Role' }}</h2>
<div mat-dialog-content>
    <form #roleForm="ngForm">
    <mat-form-field appearance="outline" class="full-width">
        <mat-label>Role Name</mat-label>
        <input
        matInput
        name="name"
        [(ngModel)]="role.name"
        required
        [disabled]="isEdit"
        />
    </mat-form-field>

    <div class="permissions">
        <label><strong>Permissions:</strong></label>
        <div *ngFor="let perm of permissions">
        <mat-checkbox
            [(ngModel)]="rolePermissionMap[perm.id]"
            name="perm-{{ perm.id }}"
        >
            {{ perm.name }}
        </mat-checkbox>
        </div>
    </div>
    </form>
</div>

<div mat-dialog-actions>
    <button mat-button (click)="dialogRef.close()">Cancel</button>
    <button mat-raised-button color="primary" (click)="save()" [disabled]="!role.name">
    Save
    </button>
</div>